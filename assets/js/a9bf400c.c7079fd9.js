"use strict";(self.webpackChunkOERTemplate=self.webpackChunkOERTemplate||[]).push([[478],{2244:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>d,frontMatter:()=>i,metadata:()=>s,toc:()=>h});const s=JSON.parse('{"id":"Web-API-Overview/ajax-review","title":"AJAX Review","description":"AJAX Review","source":"@site/docs/Web-API-Overview/ajax-review.md","sourceDirName":"Web-API-Overview","slug":"/Web-API-Overview/ajax-review","permalink":"/WebProgrammingToolsAndFrameworks/Web-API-Overview/ajax-review","draft":false,"unlisted":false,"editUrl":"https://github.com/catherine-leung/OERTemplate/tree/main/docs/Web-API-Overview/ajax-review.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"id":"ajax-review","title":"AJAX Review","sidebar_position":2,"description":"AJAX Review"},"sidebar":"courseNotesSidebar","previous":{"title":"JavaScript Object Notation (JSON)","permalink":"/WebProgrammingToolsAndFrameworks/Web-API-Overview/javascript-object-notation-json"},"next":{"title":"API Introduction & Implementation","permalink":"/WebProgrammingToolsAndFrameworks/Web-API-Overview/api-introduction-and-implementation"}}');var o=t(4848),r=t(8453);const i={id:"ajax-review",title:"AJAX Review",sidebar_position:2,description:"AJAX Review"},a="AJAX Review",c={},h=[{value:"AJAX Introduction: The Fetch API",id:"ajax-introduction-the-fetch-api",level:2},{value:"AJAX: The Fetch API (Compressed)",id:"ajax-the-fetch-api-compressed",level:3},{value:"Handling Responses with an &quot;Error&quot; Status",id:"handling-responses-with-an-error-status",level:2}];function l(e){const n={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"ajax-review",children:"AJAX Review"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"AJAX (Asynchronous JavaScript and XML)"})," can be described as a collection of technologies used together to create a richer user experience by enabling data to be transferred between a web client (browser) and web server without the need to refresh the page:"]}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:'Ajax, is not a technology in itself, but rather an approach to using a number of existing technologies together, including HTML or XHTML, CSS, JavaScript, DOM, XML, XSLT, and most importantly the XMLHttpRequest object. When these technologies are combined in the Ajax model, web applications are able to make quick, incremental updates to the user interface without reloading the entire browser page. This makes the application faster and more responsive to user actions. Ajax\'s most appealing characteristic is its "asynchronous" nature, which means it can communicate with the server, exchange data, and update the page without having to refresh the page.'}),"\n",(0,o.jsx)(n.p,{children:"Although X in Ajax stands for XML, JSON is preferred because it is lighter in size and is written in JavaScript. Both JSON and XML are used for packaging information in the Ajax model."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/Guide/AJAX",children:"https://developer.mozilla.org/en-US/docs/Web/Guide/AJAX"})}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"ajax-introduction-the-fetch-api",children:"AJAX Introduction: The Fetch API"}),"\n",(0,o.jsxs)(n.p,{children:["In modern browsers, we can use the ",(0,o.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API",children:'"Fetch API"'})," to make AJAX requests. Essentially, we can configure a ",(0,o.jsx)(n.strong,{children:"new Request"})," by providing two parameters:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"The location of the resource"}),"\n",(0,o.jsx)(n.li,{children:'A set of "options", (defined using "object literal" notation)'}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:['The "location" parameter is simply the URI of the resource, ie: "',(0,o.jsx)(n.a,{href:"https://jsonplaceholder.typicode.com/users/",children:"https://jsonplaceholder.typicode.com/users/"}),'", while the "options" parameter could contain any number of options, including:']}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"The http method, ie: 'POST'"}),"\n",(0,o.jsxs)(n.li,{children:["The 'body' of the request, ie: ",(0,o.jsx)(n.code,{children:'JSON.stringify({user:"John Doe", job:"unknown"})'})]}),"\n",(0,o.jsxs)(n.li,{children:["An object consisting of a number of headers, ie: ",(0,o.jsx)(n.code,{children:'{"Content-Type": "application/json"}'})]}),"\n",(0,o.jsxs)(n.li,{children:["And ",(0,o.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Request#Properties",children:"Many Others"})]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"In practice, this would look something like this:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"let myRequest = new Request('https://jsonplaceholder.typicode.com/users/', {\n  method: 'POST',\n  body: JSON.stringify({ username: 'jDoe', name: 'John Doe' }),\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n"})}),"\n",(0,o.jsxs)(n.p,{children:['Once the request is configured, we can "Fetch" the data using "fetch()" with our request. This "fetch" method will return a promise that resolves with a "',(0,o.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Response",children:"response"}),'" object that has a number of ',(0,o.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Response#static_methods",children:"methods"}),", including:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"response.text()"})," - which we can use to read the 'response' stream. This method returns a promise that will resolve with text."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"response.json()"})," - which we can use to read the 'response' stream. This method returns a promise that will resolve with an object."]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:'To execute the request defined above (ie: myRequest), we can wire up the "fetch" using the following code (assuming that our resource is returning JSON-formatted data).'}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"fetch(myRequest)\n  .then((response) => {\n    return response.json();\n  })\n  .then((json) => {\n    console.log(json); // here is the parsed JSON response\n  });\n"})}),"\n",(0,o.jsx)(n.h3,{id:"ajax-the-fetch-api-compressed",children:"AJAX: The Fetch API (Compressed)"}),"\n",(0,o.jsx)(n.p,{children:"To save lines and make your code more readable and concise, the above two pieces of code can be combined, ie:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"fetch('https://jsonplaceholder.typicode.com/users/', {\n  method: 'POST',\n  body: JSON.stringify({ username: 'jDoe', name: 'John Doe' }),\n  headers: { 'Content-Type': 'application/json' },\n})\n  .then((response) => response.json())\n  .then((json) => {\n    console.log(json);\n  });\n"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"NOTE:"}),' Our code is even shorter if we\'re simply doing a "GET" request, ie:']}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"fetch('https://jsonplaceholder.typicode.com/users/')\n  .then((response) => response.json())\n  .then((json) => {\n    console.log(json);\n  });\n"})}),"\n",(0,o.jsx)(n.h2,{id:"handling-responses-with-an-error-status",children:'Handling Responses with an "Error" Status'}),"\n",(0,o.jsxs)(n.p,{children:['If we wish to handle a situation where the fetch fails, we can always add a catch statement at the end of the above code. However, it is important to note that if the response itself was successful (ie a connnection was made and a response was returned), then the "catch" callback code will not be executed ',(0,o.jsx)(n.em,{children:"even if"}),' the response status code indicates an error, ie 500 or 404. To handle these situations, we can leverage a method on the response object callded "ok" (see: ',(0,o.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Response/ok",children:"response.ok"}),") which will be true if the status code of the response was in the ",(0,o.jsx)(n.strong,{children:"200 range"}),". Practically speaking, it can be used like this:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"fetch('https://jsonplaceholder.typicode.com/unknown')\n  .then((response) => {\n    // return a rejected promise with the status code of the response if it wasn't \"ok\"\n    return response.ok ? response.json() : Promise.reject(response.status);\n  })\n  .then((json) => {\n    console.log(json);\n  })\n  .catch((err) => {\n    console.log(err);\n  });\n"})})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>a});var s=t(6540);const o={},r=s.createContext(o);function i(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);