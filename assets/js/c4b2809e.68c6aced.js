"use strict";(self.webpackChunkipc144=self.webpackChunkipc144||[]).push([[2710],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=p(n),m=r,h=u["".concat(s,".").concat(m)]||u[m]||d[m]||o;return n?a.createElement(h,i(i({ref:t},c),{},{components:n})):a.createElement(h,i({ref:t},c))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"==typeof e?e:r,i[1]=l;for(var p=2;p<o;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},9631:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>l,toc:()=>p});var a=n(7462),r=(n(7294),n(3905));n(8209);const o={id:"introduction",title:"Introduction",sidebar_position:1,description:"Introduction"},i="Introduction",l={unversionedId:"Template-Engines/introduction",id:"Template-Engines/introduction",title:"Introduction",description:"Introduction",source:"@site/docs/Template-Engines/introduction.md",sourceDirName:"Template-Engines",slug:"/Template-Engines/introduction",permalink:"/Template-Engines/introduction",draft:!1,editUrl:"https://github.com/patrick-crawford/WebProgrammingToolsAndFrameworks/tree/master/docs/Template-Engines/introduction.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{id:"introduction",title:"Introduction",sidebar_position:1,description:"Introduction"},sidebar:"courseNotesSidebar",previous:{title:"Example Code",permalink:"/Web-API-Overview/example-code"},next:{title:"EJS (Embedded JavaScript Templates)",permalink:"/Template-Engines/ejs-embedded-javaScript-templates"}},s={},p=[{value:"Returning HTML &amp; Data",id:"returning-html--data",level:2},{value:"Template Engines",id:"template-engines",level:2}],c={toc:p},u="wrapper";function d(e){let{components:t,...n}=e;return(0,r.kt)(u,(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"introduction"},"Introduction"),(0,r.kt)("p",null,'Express.js is a powerful library for helping us create web servers in Node.js. In very few lines of code we can send / receive data in a way that is very straightforward and easy to understand. Recall our first example, where we were able to create two routes: "/" and "/about", each corresponding to a specific response from our server:'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const express = require('express');\nconst app = express();\nconst path = require('path');\n\nconst HTTP_PORT = process.env.PORT || 8080;\n\napp.get('/', (req, res) => {\n  res.send(\"Hello World<br /><a href='/about'>Go to the about page</a>\");\n});\n\napp.get('/about', (req, res) => {\n  res.sendFile(path.join(__dirname, '/views/about.html'));\n});\n\napp.listen(HTTP_PORT, () => {\n  console.log(`server listening on: ${HTTP_PORT}`);\n});\n")),(0,r.kt)("p",null,"In the above example, we make use of the ",(0,r.kt)("strong",{parentName:"p"},"get"),' method of the app object to define a route and a callback function that\'s executed when the route is encountered. We can leverage the 2nd parameter "res" to send either an HTML formatted string (for route "/"), or a static html page (for route "/about").'),(0,r.kt)("p",null,"If we wanted to send (JSON formatted) data only, we can use the following route (/getData):"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"app.get('/getData', function (req, res) {\n  let someData = {\n    name: 'John',\n    age: 23,\n    occupation: 'developer',\n    company: 'Scotiabank',\n  };\n\n  res.send(someData);\n});\n")),(0,r.kt)("p",null,"This will return the JSON-formatted string:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{ "name": "John", "age": 23, "occupation": "developer", "company": "Scotiabank" }\n')),(0,r.kt)("p",null,"The important thing to notice here is that our server can return HTML formatted strings, static HTML (.html) files, and JSON data."),(0,r.kt)("h2",{id:"returning-html--data"},"Returning HTML & Data"),(0,r.kt)("p",null,"If we want to return a valid HTML5 page to the client that actually references data stored on the server, one solution would be to build a string that contains both ",(0,r.kt)("strong",{parentName:"p"},"HTML code")," and ",(0,r.kt)("strong",{parentName:"p"},"data"),", ie:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"app.get('/viewData', function (req, res) {\n  let someData = {\n    name: 'John',\n    age: 23,\n    occupation: 'developer',\n    company: 'Scotiabank',\n  };\n\n  let htmlString = `<!doctype html>  \n                  <html> \n                      <head>  \n                          <title>View Data</title> \n                      </head> \n                      <body>  \n                          <table border='1'>  \n                              <tr>  \n                                  <th>Name</th>  \n                                  <th>Age</th>  \n                                  <th>Occupation</th>  \n                                  <th>Company</th>  \n                              </tr>  \n                              <tr>  \n                                  <td>${someData.name}</td>  \n                                  <td>${someData.age}</td>  \n                                  <td>${someData.occupation}</td>  \n                                  <td>${someData.company}</td>  \n                              </tr>  \n                          </table>  \n                      </body>  \n                  </html>`;\n\n  res.send(htmlString);\n});\n")),(0,r.kt)("p",null,"While this will work to send a valid HTML5 page containing our data back to the client, it's clearly not the best way to approach this problem. What if we had a complex page that contains data in different places throughout the layout? We would be building out an enormous string containing normal, static html and in a few places, inserting a reference to our data (someData object). Wouldn't it be better if we could just write a normal HTML document that ",(0,r.kt)("strong",{parentName:"p"},"references")," the data, instead of having to build one huge string for the whole page?"),(0,r.kt)("h2",{id:"template-engines"},"Template Engines"),(0,r.kt)("p",null,"Fortunately, we can leverage ",(0,r.kt)("a",{parentName:"p",href:"https://expressjs.com/en/guide/using-template-engines.html"},'"template engines" with express')," to solve this exact problem. From the express.js documentation:"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"A template engine enables you to use static template files in your application. At runtime, the template engine replaces variables in a template file with actual values, and transforms the template into an HTML file sent to the client. This approach makes it easier to design an HTML page.")),(0,r.kt)("p",null,"This sounds like exactly what we need and there are a number of popular options that we can choose from, such as:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://pugjs.org/api/getting-started.html"},'"Pug"')),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.npmjs.com/package/express-handlebars"},'"Express Handlebars"')),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://ejs.co"},'"EJS"')),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://expressjs.com/en/resources/template-engines.html"},"and many more..."))),(0,r.kt)("p",null,'In the next section, we will take a look at "EJS":'),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"A simple templating language that lets you generate HTML markup with plain JavaScript. No religiousness about how to organize things. No reinvention of iteration and control-flow. It's just plain JavaScript.")))}d.isMDXComponent=!0},8209:(e,t,n)=>{n(7294)}}]);