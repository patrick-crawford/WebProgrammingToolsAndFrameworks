"use strict";(self.webpackChunkipc144=self.webpackChunkipc144||[]).push([[77],{3905:(e,t,r)=>{r.d(t,{Zo:()=>d,kt:()=>y});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var p=n.createContext({}),c=function(e){var t=n.useContext(p),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},d=function(e){var t=c(e.components);return n.createElement(p.Provider,{value:t},e.children)},l="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},h=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,s=e.originalType,p=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),l=c(r),h=a,y=l["".concat(p,".").concat(h)]||l[h]||u[h]||s;return r?n.createElement(y,o(o({ref:t},d),{},{components:r})):n.createElement(y,o({ref:t},d))}));function y(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var s=r.length,o=new Array(s);o[0]=h;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i[l]="string"==typeof e?e:a,o[1]=i;for(var c=2;c<s;c++)o[c]=r[c];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}h.displayName="MDXCreateElement"},1922:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>u,frontMatter:()=>s,metadata:()=>i,toc:()=>c});var n=r(7462),a=(r(7294),r(3905));r(8209);const s={id:"password-encryption",title:"Password Encryption",sidebar_position:2,description:"Password Encryption"},o="Password Encryption",i={unversionedId:"Security-Considerations/password-encryption",id:"Security-Considerations/password-encryption",title:"Password Encryption",description:"Password Encryption",source:"@site/docs/Security-Considerations/password-encryption.md",sourceDirName:"Security-Considerations",slug:"/Security-Considerations/password-encryption",permalink:"/Security-Considerations/password-encryption",draft:!1,editUrl:"https://github.com/patrick-crawford/WebProgrammingToolsAndFrameworks/tree/master/docs/Security-Considerations/password-encryption.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{id:"password-encryption",title:"Password Encryption",sidebar_position:2,description:"Password Encryption"},sidebar:"courseNotesSidebar",previous:{title:"HTTPS Introduction",permalink:"/Security-Considerations/https-introduction"},next:{title:"Secure HTTP Headers",permalink:"/Security-Considerations/secure-http-headers"}},p={},c=[{value:"Bcrypt",id:"bcrypt",level:2},{value:"Encrypting Passwords",id:"encrypting-passwords",level:3},{value:"Validating Encrypted Passwords",id:"validating-encrypted-passwords",level:3}],d={toc:c},l="wrapper";function u(e){let{components:t,...r}=e;return(0,a.kt)(l,(0,n.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"password-encryption"},"Password Encryption"),(0,a.kt)("p",null,"HTTPS is a significant factor to consider when securing a website online; however, it does not encompass all aspects of security. For example, what if unauthorized users gain access your database? This could result in the theft of personal information such as credit card information or user passwords."),(0,a.kt)("p",null,'This is where the integration of an encryption library becomes important. One option to solve the above problem is to enable "one-way" encryption, effectively encrypting plain text data in a way that makes it impossible decipher. To verify if the encrypted data corresponds to specific plain text data, the plain text data must be encrypted using the original method and compared.'),(0,a.kt)("p",null,"This is a standard way to store and work with passwords. Encrypt them in the database when a user registers and when they try to login, encrypt them once again and compare the encrypted passwords for a match. This way we are never storing users' plain text passwords in the database and anyone who has access to the database cannot read them."),(0,a.kt)("h2",{id:"bcrypt"},"Bcrypt"),(0,a.kt)("p",null,'A famous encryption algorithm to achieve "one-way" encryption, is "bcrypt"'),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"bcrypt is a password-hashing function designed by Niels Provos and David Mazi\xe8res, based on the Blowfish cipher and presented at USENIX in 1999. Besides incorporating a salt to protect against rainbow table attacks, bcrypt is an adaptive function: over time, the iteration count can be increased to make it slower, so it remains resistant to brute-force search attacks even with increasing computation power."),(0,a.kt)("p",{parentName:"blockquote"},(0,a.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Bcrypt"},"https://en.wikipedia.org/wiki/Bcrypt"))),(0,a.kt)("p",null,"This sounds like exactly what we need. Fortunately, bcrypt is available on NPM via a module called: ",(0,a.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/bcryptjs"},'"bcrypt.js"'),"."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"npm install bcryptjs\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const bcrypt = require('bcryptjs');\n")),(0,a.kt)("h3",{id:"encrypting-passwords"},"Encrypting Passwords"),(0,a.kt)("p",null,'If we wish to encrypt a plain text password (ie: "myPassword123"), we can use ',(0,a.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Bcrypt"},"bcrypt")," to generate a ",(0,a.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Salt_(cryptography)"},'"salt"')," and ",(0,a.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Cryptographic_hash_function"},'"hash"')," the text:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'// Encrypt the plain text: "myPassword123"\nbcrypt\n  .hash(\'myPassword123\', 10)\n  .then((hash) => {\n    // Hash the password using a Salt that was generated using 10 rounds\n    // TODO: Store the resulting "hash" value in the DB\n  })\n  .catch((err) => {\n    console.log(err); // Show any errors that occurred during the process\n  });\n')),(0,a.kt)("h3",{id:"validating-encrypted-passwords"},"Validating Encrypted Passwords"),(0,a.kt)("p",null,'If we wish to compare the "hashed" text with plain text (to see if a user-entered password matches the value in the DB), we use:'),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'// Pull the password "hash" value from the DB and compare it to "myPassword123" (match)\nbcrypt.compare(\'myPassword123\', hash).then((result) => {\n  // result === true\n});\n\n// Pull the password "hash" value from the DB and compare it to "myPasswordABC" (does not match)\nbcrypt.compare(\'myPasswordABC\', hash).then((result) => {\n  // result === false\n});\n')))}u.isMDXComponent=!0},8209:(e,t,r)=>{r(7294)}}]);